{"uid":"608f1467a0c3845d","name":"cy.readFile() - read file contents","fullName":"cy.readFile() - read file contents","historyId":"a385faa69bc1920fa7a65b99a3ca64df","time":{"start":1747326170032,"stop":1747326170229,"duration":197},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"\"before each\" hook","time":{"start":1747326170035,"stop":1747326170206,"duration":171},"status":"passed","steps":[{"name":"visit https://example.cypress.io/commands/files","time":{"start":1747326170050,"stop":1747326170205,"duration":155},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"fixture (\"example.json\")","time":{"start":1747326170206,"stop":1747326170206,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"as (\"example\")","time":{"start":1747326170206,"stop":1747326170206,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":3,"hasContent":true},{"name":"readFile C:\\projects\\cypress-allure\\cypress.config.js","time":{"start":1747326170207,"stop":1747326170227,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"assert expected **const { defineConfig } = require('cypress');\\r\\nconst fs = require('fs');\\r\\nconst allureWriter = require('@shelex/cypress-allure-plugin/writer');\\r\\n\\r\\nmodule.exports = defineConfig({\\r\\n  e2e: {\\r\\n    screenshotOnRunFailure: true,\\r\\n    setupNodeEvents(on, config) {\\r\\n      allureWriter(on, config);\\r\\n\\r\\n      // ✅ Task สำหรับอ่านไฟล์ screenshot เพื่อแนบเข้า Allure\\r\\n      on('task', {\\r\\n        readFileMaybe(filePath, encoding) {\\r\\n          if (fs.existsSync(filePath)) {\\r\\n            return fs.readFileSync(filePath, encoding);\\r\\n          }\\r\\n          return null;\\r\\n        }\\r\\n      });\\r\\n\\r\\n      return config;\\r\\n    }\\r\\n  }\\r\\n});\\r\\n** to be a string","time":{"start":1747326170229,"stop":1747326170229,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"actual","value":"const { defineConfig } = require('cypress');\r\nconst fs = require('fs');\r\nconst allureWriter = require('@shelex/cypress-allure-plugin/writer');\r\n\r\nmodule.exports = defineConfig({\r\n  e2e: {\r\n    screenshotOnRunFailure: true,\r\n    setupNodeEvents(on, config) {\r\n      allureWriter(on, config);\r\n\r\n      // ✅ Task สำหรับอ่านไฟล์ screenshot เพื่อแนบเข้า Allure\r\n      on('task', {\r\n        readFileMaybe(filePath, encoding) {\r\n          if (fs.existsSync(filePath)) {\r\n            return fs.readFileSync(filePath, encoding);\r\n          }\r\n          return null;\r\n        }\r\n      });\r\n\r\n      return config;\r\n    }\r\n  }\r\n});\r\n"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":6,"hasContent":true},"afterStages":[],"labels":[{"name":"package","value":"cypress.e2e.2-advanced-examples.files.cy.js"},{"name":"suite","value":"Files"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"529e0380bcc8f065","status":"passed","time":{"start":1747324989828,"stop":1747324990035,"duration":207}}],"categories":[],"tags":[]},"source":"608f1467a0c3845d.json","parameterValues":[]}