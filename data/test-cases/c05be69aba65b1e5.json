{"uid":"c05be69aba65b1e5","name":"cy.readFile() - read file contents","fullName":"cy.readFile() - read file contents","historyId":"a385faa69bc1920fa7a65b99a3ca64df","time":{"start":1747314520265,"stop":1747314520464,"duration":199},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"\"before each\" hook","time":{"start":1747314520267,"stop":1747314520442,"duration":175},"status":"passed","steps":[{"name":"visit https://example.cypress.io/commands/files","time":{"start":1747314520275,"stop":1747314520441,"duration":166},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false},{"name":"fixture (\"example.json\")","time":{"start":1747314520441,"stop":1747314520442,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false},{"name":"as (\"example\")","time":{"start":1747314520442,"stop":1747314520442,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":3,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true},{"name":"readFile C:\\projects\\cypress-allure\\cypress.config.js","time":{"start":1747314520443,"stop":1747314520463,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false},{"name":"assert expected **const { defineConfig } = require('cypress');\\r\\nconst fs = require('fs');\\r\\nconst allureWriter = require('@shelex/cypress-allure-plugin/writer');\\r\\n\\r\\nmodule.exports = defineConfig({\\r\\n  e2e: {\\r\\n    screenshotOnRunFailure: true,\\r\\n    setupNodeEvents(on, config) {\\r\\n      allureWriter(on, config);\\r\\n\\r\\n      // ✅ Task สำหรับอ่านไฟล์ screenshot เพื่อแนบเข้า Allure\\r\\n      on('task', {\\r\\n        readFileMaybe(filePath, encoding) {\\r\\n          if (fs.existsSync(filePath)) {\\r\\n            return fs.readFileSync(filePath, encoding);\\r\\n          }\\r\\n          return null;\\r\\n        }\\r\\n      });\\r\\n\\r\\n      return config;\\r\\n    }\\r\\n  }\\r\\n});\\r\\n** to be a string","time":{"start":1747314520464,"stop":1747314520464,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"actual","value":"const { defineConfig } = require('cypress');\r\nconst fs = require('fs');\r\nconst allureWriter = require('@shelex/cypress-allure-plugin/writer');\r\n\r\nmodule.exports = defineConfig({\r\n  e2e: {\r\n    screenshotOnRunFailure: true,\r\n    setupNodeEvents(on, config) {\r\n      allureWriter(on, config);\r\n\r\n      // ✅ Task สำหรับอ่านไฟล์ screenshot เพื่อแนบเข้า Allure\r\n      on('task', {\r\n        readFileMaybe(filePath, encoding) {\r\n          if (fs.existsSync(filePath)) {\r\n            return fs.readFileSync(filePath, encoding);\r\n          }\r\n          return null;\r\n        }\r\n      });\r\n\r\n      return config;\r\n    }\r\n  }\r\n});\r\n"}],"stepsCount":0,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":6,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"package","value":"cypress.e2e.2-advanced-examples.files.cy.js"},{"name":"suite","value":"Files"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":[]},"source":"c05be69aba65b1e5.json","parameterValues":[]}