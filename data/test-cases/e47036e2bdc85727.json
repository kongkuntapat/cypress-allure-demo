{"uid":"e47036e2bdc85727","name":"cy.readFile() - read file contents","fullName":"cy.readFile() - read file contents","historyId":"a385faa69bc1920fa7a65b99a3ca64df","time":{"start":1747310222109,"stop":1747310222218,"duration":109},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"\"before each\" hook","time":{"start":1747310222111,"stop":1747310222195,"duration":84},"status":"passed","steps":[{"name":"visit https://example.cypress.io/commands/files","time":{"start":1747310222118,"stop":1747310222195,"duration":77},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"fixture (\"example.json\")","time":{"start":1747310222195,"stop":1747310222195,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"as (\"example\")","time":{"start":1747310222195,"stop":1747310222195,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":3,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"readFile C:\\projects\\cypress-allure\\cypress.config.js","time":{"start":1747310222196,"stop":1747310222217,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"assert expected **const { defineConfig } = require('cypress');\\r\\nconst fs = require('fs');\\r\\nconst allureWriter = require('@shelex/cypress-allure-plugin/writer');\\r\\n\\r\\nmodule.exports = defineConfig({\\r\\n  e2e: {\\r\\n    screenshotOnRunFailure: true, // ✅ บันทึกภาพเมื่อ fail\\r\\n    setupNodeEvents(on, config) {\\r\\n      // ✅ Allure plugin\\r\\n      allureWriter(on, config);\\r\\n\\r\\n      // ✅ Task สำหรับอ่าน screenshot เป็น base64 (เพื่อแนบใน Allure)\\r\\n      on('task', {\\r\\n        readFileMaybe(filePath, encoding) {\\r\\n          if (fs.existsSync(filePath)) {\\r\\n            return fs.readFileSync(filePath, encoding);\\r\\n          }\\r\\n          return null;\\r\\n        }\\r\\n      });\\r\\n\\r\\n      return config;\\r\\n    }\\r\\n  }\\r\\n});\\r\\n** to be a string","time":{"start":1747310222218,"stop":1747310222218,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"actual","value":"const { defineConfig } = require('cypress');\r\nconst fs = require('fs');\r\nconst allureWriter = require('@shelex/cypress-allure-plugin/writer');\r\n\r\nmodule.exports = defineConfig({\r\n  e2e: {\r\n    screenshotOnRunFailure: true, // ✅ บันทึกภาพเมื่อ fail\r\n    setupNodeEvents(on, config) {\r\n      // ✅ Allure plugin\r\n      allureWriter(on, config);\r\n\r\n      // ✅ Task สำหรับอ่าน screenshot เป็น base64 (เพื่อแนบใน Allure)\r\n      on('task', {\r\n        readFileMaybe(filePath, encoding) {\r\n          if (fs.existsSync(filePath)) {\r\n            return fs.readFileSync(filePath, encoding);\r\n          }\r\n          return null;\r\n        }\r\n      });\r\n\r\n      return config;\r\n    }\r\n  }\r\n});\r\n"}],"hasContent":true,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false},"afterStages":[],"labels":[{"name":"package","value":"cypress.e2e.2-advanced-examples.files.cy.js"},{"name":"suite","value":"Files"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"9551d3b98315f96b","status":"passed","time":{"start":1747309722593,"stop":1747309722700,"duration":107}}],"categories":[],"tags":[]},"source":"e47036e2bdc85727.json","parameterValues":[]}