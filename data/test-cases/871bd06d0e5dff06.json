{"uid":"871bd06d0e5dff06","name":"cy.readFile() - read file contents","fullName":"cy.readFile() - read file contents","historyId":"a385faa69bc1920fa7a65b99a3ca64df","time":{"start":1747313673291,"stop":1747313673413,"duration":122},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"\"before each\" hook","time":{"start":1747313673293,"stop":1747313673391,"duration":98},"status":"passed","steps":[{"name":"visit https://example.cypress.io/commands/files","time":{"start":1747313673300,"stop":1747313673390,"duration":90},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentStep":false},{"name":"fixture (\"example.json\")","time":{"start":1747313673390,"stop":1747313673390,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentStep":false},{"name":"as (\"example\")","time":{"start":1747313673390,"stop":1747313673390,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentStep":false}],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true,"stepsCount":3,"attachmentStep":false},{"name":"readFile C:\\projects\\cypress-allure\\cypress.config.js","time":{"start":1747313673392,"stop":1747313673412,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentStep":false},{"name":"assert expected **const { defineConfig } = require('cypress');\\r\\nconst fs = require('fs');\\r\\nconst allureWriter = require('@shelex/cypress-allure-plugin/writer');\\r\\n\\r\\nmodule.exports = defineConfig({\\r\\n  e2e: {\\r\\n    screenshotOnRunFailure: true,\\r\\n    setupNodeEvents(on, config) {\\r\\n      allureWriter(on, config);\\r\\n\\r\\n      // ✅ Task สำหรับอ่านไฟล์ screenshot เพื่อแนบเข้า Allure\\r\\n      on('task', {\\r\\n        readFileMaybe(filePath, encoding) {\\r\\n          if (fs.existsSync(filePath)) {\\r\\n            return fs.readFileSync(filePath, encoding);\\r\\n          }\\r\\n          return null;\\r\\n        }\\r\\n      });\\r\\n\\r\\n      return config;\\r\\n    }\\r\\n  }\\r\\n});\\r\\n** to be a string","time":{"start":1747313673413,"stop":1747313673413,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"actual","value":"const { defineConfig } = require('cypress');\r\nconst fs = require('fs');\r\nconst allureWriter = require('@shelex/cypress-allure-plugin/writer');\r\n\r\nmodule.exports = defineConfig({\r\n  e2e: {\r\n    screenshotOnRunFailure: true,\r\n    setupNodeEvents(on, config) {\r\n      allureWriter(on, config);\r\n\r\n      // ✅ Task สำหรับอ่านไฟล์ screenshot เพื่อแนบเข้า Allure\r\n      on('task', {\r\n        readFileMaybe(filePath, encoding) {\r\n          if (fs.existsSync(filePath)) {\r\n            return fs.readFileSync(filePath, encoding);\r\n          }\r\n          return null;\r\n        }\r\n      });\r\n\r\n      return config;\r\n    }\r\n  }\r\n});\r\n"}],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true,"stepsCount":0,"attachmentStep":false}],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true,"stepsCount":6,"attachmentStep":false},"afterStages":[],"labels":[{"name":"package","value":"cypress.e2e.2-advanced-examples.files.cy.js"},{"name":"suite","value":"Files"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"ee67edcaa560bec6","status":"passed","time":{"start":1747312886437,"stop":1747312886544,"duration":107}}],"categories":[],"tags":[]},"source":"871bd06d0e5dff06.json","parameterValues":[]}