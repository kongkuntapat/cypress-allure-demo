{"uid":"a3f5ac56b1e2ad1b","name":"cy.readFile() - read file contents","fullName":"cy.readFile() - read file contents","historyId":"a385faa69bc1920fa7a65b99a3ca64df","time":{"start":1747311684672,"stop":1747311684777,"duration":105},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"\"before each\" hook","time":{"start":1747311684673,"stop":1747311684754,"duration":81},"status":"passed","steps":[{"name":"visit https://example.cypress.io/commands/files","time":{"start":1747311684680,"stop":1747311684754,"duration":74},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0},{"name":"fixture (\"example.json\")","time":{"start":1747311684754,"stop":1747311684754,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0},{"name":"as (\"example\")","time":{"start":1747311684754,"stop":1747311684754,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":3},{"name":"readFile C:\\projects\\cypress-allure\\cypress.config.js","time":{"start":1747311684755,"stop":1747311684775,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0},{"name":"assert expected **const { defineConfig } = require('cypress');\\r\\nconst fs = require('fs');\\r\\nconst allureWriter = require('@shelex/cypress-allure-plugin/writer');\\r\\n\\r\\nmodule.exports = defineConfig({\\r\\n  e2e: {\\r\\n    screenshotOnRunFailure: true,\\r\\n    setupNodeEvents(on, config) {\\r\\n      allureWriter(on, config);\\r\\n\\r\\n      // ✅ Task สำหรับอ่านไฟล์ screenshot เพื่อแนบ Allure\\r\\n      on('task', {\\r\\n        readFileMaybe(filePath, encoding) {\\r\\n          if (fs.existsSync(filePath)) {\\r\\n            return fs.readFileSync(filePath, encoding);\\r\\n          }\\r\\n          return null;\\r\\n        }\\r\\n      });\\r\\n\\r\\n      return config;\\r\\n    }\\r\\n  }\\r\\n});\\r\\n** to be a string","time":{"start":1747311684776,"stop":1747311684776,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"actual","value":"const { defineConfig } = require('cypress');\r\nconst fs = require('fs');\r\nconst allureWriter = require('@shelex/cypress-allure-plugin/writer');\r\n\r\nmodule.exports = defineConfig({\r\n  e2e: {\r\n    screenshotOnRunFailure: true,\r\n    setupNodeEvents(on, config) {\r\n      allureWriter(on, config);\r\n\r\n      // ✅ Task สำหรับอ่านไฟล์ screenshot เพื่อแนบ Allure\r\n      on('task', {\r\n        readFileMaybe(filePath, encoding) {\r\n          if (fs.existsSync(filePath)) {\r\n            return fs.readFileSync(filePath, encoding);\r\n          }\r\n          return null;\r\n        }\r\n      });\r\n\r\n      return config;\r\n    }\r\n  }\r\n});\r\n"}],"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":6},"afterStages":[],"labels":[{"name":"package","value":"cypress.e2e.2-advanced-examples.files.cy.js"},{"name":"suite","value":"Files"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"2c0f2024e3ca55b2","status":"passed","time":{"start":1747311068965,"stop":1747311069070,"duration":105}}],"categories":[],"tags":[]},"source":"a3f5ac56b1e2ad1b.json","parameterValues":[]}